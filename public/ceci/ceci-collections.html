<polymer-element name="ceci-collections">
  <template>
    <style>
      :host {
        display: none;
      }
    </style>
    <content></content>
  </template>
  <script>
    Polymer('ceci-collections', {
      addCollection: function(name) {
        var collection = document.createElement("ceci-collection");
        this.appendChild(collection);
        collection.setAttribute("collectionname", name);
        var detail = {
          added: collection
        };
        this.fire("collectionchange", detail);
      },
      removeCollection: function(name) {
        var collection = this.querySelector('ceci-collection[collectionname="'+ name + '"]');
        this.removeChild(collection);
        var detail = {
          removed: collection
        };
        this.fire("collectionchange", detail);
      },
      getCollection: function(name) {
        return this.querySelector('ceci-collection[collectionname="'+ name + '"]');
      },
      getCollections: function() {
        return Array.prototype.slice.call(this.querySelectorAll("ceci-collection"), 0);
      },
      getField: function(collectionname, fieldname) {
        return this.querySelector('ceci-collection[collectionname="'+ collectionname + '"]').getField(fieldname);
      },
      getFields: function(name) {
        return this.querySelector('ceci-collection[collectionname="'+ name + '"]').getFields();
      }
    });
  </script>
</polymer-element>
