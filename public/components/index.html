<!doctype html>
<html>
  <head>
    <script type="text/javascript" src="jquery-1.9.1.js"></script>
    <script type="text/javascript" src="components.js"></script>

    <script type="text/javascript">
    $(document).ready(function () {
      Components.scan()
      Components.replace()
    })
    </script>
  </head>
  <body>
    
    <style>
    .moz-button {
      background: blue;
      color: white;
      width: 200px;
    }
    .moz-counter {
      color: red;
    }
    </style>
    
    <template id="moz-shutter-button">
      <div style="" onclick="Components.broadcast('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==')">[ o ]</div>
    </template>

    <template id="moz-picture-frame">
      <img style="width: 100px; height: 100px; border: 1px solid black;" ondblclick="$(this).attr('src', arguments[1])" />
    </template>
    
    <template id="moz-better-button">
      <div onclick="Components.broadcast()" style="">Click Me</div>
    </template>
    
    <template id="moz-counter">
      <div style="width: 100px; height: 100px; font-size: 50px;" ondblclick="$(this).text(parseFloat($(this).text()) + 1)">2</div>
    </template>
    
    <template id="moz-input-form">
      <input type="text">
      <button onclick="Components.broadcast($(this).prev().val())">Submit</button>
    </template>
    
    <template id="moz-log">
      <div ondblclick="$(this).append(arguments[1] + '<br>')"></div>
    </template>
    
    <template id="moz-metronome">
      <div>Metronome</div>
      <script type="text/javascript">
         setInterval('Components.broadcast()', 1000)
      </script>
    </template>
    
    <template id="moz-camera">
      
      <script src="/components/camera-action.min.js"></script>
      <div onclick="camera.takePhoto()" id="moz-camera-instance" style="width: 320px; height: 240px;"></div>
      <script>
      var id = 'moz-camera-instance-' + new Date().getTime()
      $('#moz-camera-instance').attr('id', id)
      var container = document.querySelector('#' + id)
      var options = {
              'width': 320,
              'height': 240
          }
      var camera = new Camera(container, options)
      camera.action()
      camera.on('photo', function (data) {
        Components.broadcast(data)
      })
      </script>
    </template>
    
    <moz-camera></moz-camera>
    
    <moz-camera></moz-camera>
  
    <moz-metronome></moz-metronome>

    <moz-picture-frame></moz-picture-frame>
    
    <moz-picture-frame></moz-picture-frame>
    
    <moz-picture-frame></moz-picture-frame>
    <moz-picture-frame></moz-picture-frame>
    
    <moz-counter></moz-counter>
    
    <moz-better-button></moz-better-button>
    
    <moz-shutter-button></moz-shutter-button>
    
    <moz-input-form></moz-input-form>
    
    <moz-log></log>
    
    
    
  </body>
</html>